<div class="wrapper single-post {{ currentView }}">
    <div id="scroll-container" infinite-scroll="getNext()" infinite-scroll-immediate-check="false" infinite-scroll-listen-for-event="list:next" infinite-scroll-distance="3">

        <div ng-repeat="item in feedItemElements track by $index" data-url="{{ item.link }}" class="feed-item">

            <div ng-switch="currentView">

                <div ng-switch-when="list" class="list-view">

                    <div ng-switch="item.type" class="card-{{ item.type }}">
                        <div ng-switch-when="post">
                            <div ng-if="$index===0">
                                <card type="post-list"></card>
                            </div>

                            <div ng-switch="$index%8" ng-if="$index>0">
                                <card ng-switch-when="0" ng-if="$index<10" type="email-signup"></card>
                                <card ng-switch-when="4" ng-if="$index<10" type="social-follow"></card>
                                <card ng-switch-default type="post-list"></card>
                            </div>
                        </div>
                        <div ng-switch-when="instagram">
                            <card type="instagram"></card>
                        </div>
                    </div>

                </div>

                <div ng-switch-when="post" class="single-view">

                    <div ng-switch="$index">
                        <card ng-switch-when="0" type="post-single"></card>
                        <card ng-switch-default type="post-list"></card>
                    </div>

                </div>

            </div>

        </div><!-- /ng-repeat -->

    </div>
</div>